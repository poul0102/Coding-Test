# 문제
대장균의 크기에 따라 분류하기 2
<https://school.programmers.co.kr/learn/courses/30/lessons/301649>


## MySQL(방법1)
```
SELECT 
    ID,
    CASE
        WHEN PERCENT_RANK() OVER (ORDER BY SIZE_OF_COLONY DESC) < 0.25 THEN 'CRITICAL'
        WHEN PERCENT_RANK() OVER (ORDER BY SIZE_OF_COLONY DESC) < 0.50 THEN 'HIGH'
        WHEN PERCENT_RANK() OVER (ORDER BY SIZE_OF_COLONY DESC) < 0.75 THEN 'MEDIUM'
        ELSE 'LOW'
    END AS COLONY_NAME
FROM ECOLI_DATA
ORDER BY ID ASC;
```


## 배운 점
PERCENT_RANK() : 0에서 1 사이의 값을 반환하며, 해당 값이 속한 비율


## MySQL(방법2)
```
SELECT 
    ID,
    CASE NTILE(4) OVER (ORDER BY SIZE_OF_COLONY DESC)
        WHEN 1 THEN 'CRITICAL'
        WHEN 2 THEN 'HIGH'
        WHEN 3 THEN 'MEDIUM'
        WHEN 4 THEN 'LOW'
    END AS COLONY_NAME
FROM ECOLI_DATA
ORDER BY ID ASC;
```


## 배운 점
NTILE() : 전체 데이터를 지정된 수 만큼의 등급으로 나누어 각 등급 번호를 출력